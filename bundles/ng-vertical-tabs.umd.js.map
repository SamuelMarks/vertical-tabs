{"version":3,"file":"ng-vertical-tabs.umd.js","sources":["ng://ng-vertical-tabs/lib/ng-vertical-tabs.service.ts","ng://ng-vertical-tabs/lib/ng-vertical-tab/ng-vertical-tab.component.ts","ng://ng-vertical-tabs/lib/dynamic-tab-anchor.directive.ts","ng://ng-vertical-tabs/lib/ng-vertical-tabs/ng-vertical-tabs.component.ts","ng://ng-vertical-tabs/lib/ng-vertical-tabs.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgVerticalTabsService {\n  multi: boolean;\n  selectedOptions: string[];\n\n  constructor() {\n    this.selectedOptions = [];\n  }\n}\n","import { Component, Input } from '@angular/core';\n\nimport { NgVerticalTabsService } from '../ng-vertical-tabs.service';\n\n@Component({\n  selector: 'ng-vertical-tab',\n  templateUrl: './ng-vertical-tab.component.html',\n  styleUrls: ['./ng-vertical-tab.component.scss']\n})\nexport class NgVerticalTabComponent {\n  @Input() tabTitle: string;\n  @Input() active = false;\n  @Input() template;\n  @Input() dataContext;\n  @Input() isCloseable = false;\n\n  constructor(public tabsService: NgVerticalTabsService) {\n  }\n}\n","import { Directive, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[ngVerticalDynamicTabAnchor]'\n})\nexport class DynamicTabAnchorDirective {\n  constructor(public viewContainer: ViewContainerRef) {\n  }\n}\n","import { AfterContentInit, Component, ComponentFactoryResolver, ContentChildren, Input, QueryList, ViewChild } from '@angular/core';\n\nimport { MatSelectionList } from '@angular/material';\n\nimport { NgVerticalTabsService } from '../ng-vertical-tabs.service';\nimport { NgVerticalTabComponent } from '../ng-vertical-tab/ng-vertical-tab.component';\nimport { DynamicTabAnchorDirective } from '../dynamic-tab-anchor.directive';\n\n@Component({\n  selector: 'ng-vertical-tabs',\n  templateUrl: './ng-vertical-tabs.component.html',\n  styleUrls: ['./ng-vertical-tabs.component.scss']\n})\nexport class NgVerticalTabsComponent implements AfterContentInit {\n  @ContentChildren(NgVerticalTabComponent) tabs: QueryList<NgVerticalTabComponent>;\n  @ViewChild(DynamicTabAnchorDirective, { static: false }) dynamicTabPlaceholder: DynamicTabAnchorDirective;\n\n  @ViewChild(MatSelectionList, { static: false }) list: MatSelectionList;\n\n  @Input() multi = true;\n  @Input() selectFirstTab = true;\n  @Input() showSelectAll = false;\n  allSelected = true;\n\n  dynamicTabs: NgVerticalTabComponent[] = [];\n\n  lastSelectedOptions: string[];\n\n  constructor(private componentFactoryResolver: ComponentFactoryResolver,\n              public tabService: NgVerticalTabsService) {\n    this.tabService.multi = this.multi;\n  }\n\n  // contentChildren are set\n  ngAfterContentInit() {\n    // if there is no active tab set, activate the first\n    if (this.selectFirstTab && !this.tabs.filter(tab => tab.active).length) {\n      this.selectTab(this.tabs.first);\n    } else {\n      this.checkSelectAll();\n    }\n  }\n\n  onNgModelChange(/*selected: string[]*/) {\n    this.setOptions();\n    this.toggleTabActivations();\n    this.checkSelectAll();\n  }\n\n  selectTab(tab: NgVerticalTabComponent) {\n    this.multi ?\n      this.tabService.selectedOptions.push(tab.tabTitle)\n      : this.tabService.selectedOptions = [tab.tabTitle];\n    tab.active = true;\n\n    if (!this.list || !this.list.options) {\n      return;\n    }\n\n    const options = this.list.options.map(t => t.value);\n    const s = new Set(this.tabService.selectedOptions);\n    this.list.options.forEach(t => {\n      t.selected = s.has(t.value);\n      // console.info(`'${t.value}' selected:`, t.selected);\n    });\n\n    const optionsSet = new Set(options);\n    this.tabService.selectedOptions.forEach(option => {\n      if (!optionsSet.has(option)) {\n        throw TypeError(`'${option}' not found in mat-selection-list`);\n      }\n    });\n\n    this.checkSelectAll();\n  }\n\n  openTab(title: string, template, data, isCloseable = false) {\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(\n      NgVerticalTabComponent\n    );\n\n    // create a component instance\n    const componentRef = this.dynamicTabPlaceholder.viewContainer.createComponent(componentFactory);\n\n    // set the according properties on our component instance\n    const instance: NgVerticalTabComponent = componentRef.instance as NgVerticalTabComponent;\n    instance.tabTitle = title;\n    instance.template = template;\n    instance.dataContext = data;\n    instance.isCloseable = isCloseable;\n    instance.active = true;\n\n    this.dynamicTabs.push(instance);\n    this.selectTab(this.dynamicTabs[this.dynamicTabs.length - 1]);\n  }\n\n  closeTab(tab: NgVerticalTabComponent) {\n    for (let i = 0; i < this.dynamicTabs.length; i++) {\n      if (this.dynamicTabs[i] === tab) {\n        this.dynamicTabs.splice(i, 1);\n\n        this.dynamicTabPlaceholder.viewContainer.remove(i);\n        this.tabService.selectedOptions = [tab.tabTitle];  // TODO: duplicate handling\n        this.selectTab(this.tabs.first);\n        break;\n      }\n    }\n    this.checkSelectAll();\n  }\n\n  closeActiveTab() {\n    if (this.multi) {\n      console.warn('Closing the first active tab');\n    }\n    const activeTab = this.dynamicTabs.filter(tab => tab.active);\n    if (activeTab.length > 0) {\n      this.closeTab(activeTab[0]);\n    }\n    this.checkSelectAll();\n  }\n\n  toggleSelect() {\n    this.allSelected ? this.list.deselectAll() : this.list.selectAll();\n    this.allSelected = !this.allSelected;\n    this.checkSelectAll();\n  }\n\n  private toggleTabActivations() {\n    const arr: NgVerticalTabComponent[] = this.tabs.toArray().concat(this.dynamicTabs);\n    if (arr == null || arr.length < 1) {\n      return;\n    }\n    const s = new Set(this.tabService.selectedOptions);\n    arr.forEach(tab => tab.active = s.has(tab.tabTitle));\n  }\n\n  private setOptions() {\n    if (this.multi || !this.tabService.selectedOptions.length ||\n      !this.lastSelectedOptions || !this.lastSelectedOptions.length) {\n      return;\n    }\n\n    this.tabService.selectedOptions = this.tabService.selectedOptions.filter(\n      tabTitle => tabTitle !== this.lastSelectedOptions[this.lastSelectedOptions.length - 1]\n    );\n\n    this.lastSelectedOptions = this.tabService.selectedOptions;\n  }\n\n  private checkSelectAll() {\n    if (!this.list || !this.list.options) {\n      return;\n    }\n\n    this.allSelected = this.list.options.length < 1 ? false\n      : this.list.options.reduce((p, c) => p ? c.selected : p, true as boolean);\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\nimport { MatButtonModule, MatDividerModule, MatListModule } from '@angular/material';\n\nimport { NgVerticalTabsComponent } from './ng-vertical-tabs/ng-vertical-tabs.component';\nimport { DynamicTabAnchorDirective } from './dynamic-tab-anchor.directive';\nimport { NgVerticalTabsService } from './ng-vertical-tabs.service';\nimport { NgVerticalTabComponent } from './ng-vertical-tab/ng-vertical-tab.component';\n\n@NgModule({\n  imports: [\n    CommonModule, FormsModule,\n    FlexLayoutModule,\n    MatListModule, MatDividerModule, MatButtonModule\n  ],\n  entryComponents: [NgVerticalTabComponent],\n  declarations: [DynamicTabAnchorDirective, NgVerticalTabComponent, NgVerticalTabsComponent, NgVerticalTabComponent],\n  exports: [NgVerticalTabComponent, NgVerticalTabsComponent]\n})\nexport class NgVerticalTabsModule {\n  public static forRoot(): ModuleWithProviders {\n    return { ngModule: NgVerticalTabsModule, providers: [NgVerticalTabsService] };\n  }\n}\n"],"names":["Injectable","Component","Input","Directive","ViewContainerRef","ComponentFactoryResolver","ContentChildren","ViewChild","MatSelectionList","NgModule","CommonModule","FormsModule","FlexLayoutModule","MatListModule","MatDividerModule","MatButtonModule"],"mappings":"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"}